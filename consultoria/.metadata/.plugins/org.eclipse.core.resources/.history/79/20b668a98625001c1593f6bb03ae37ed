package br.com.mattec.consul.mapper;

import java.util.function.Function;

import org.springframework.data.domain.Page;

import br.com.mattec.consul.dto.ClientDto;
import br.com.mattec.consul.entities.Client;
import br.com.mattec.consul.entities.Endereco;

public class ClientMapper {
	
	public Client entityto(ClientDto clientDto) {
		
		Client client = Client.builder()
				.id(clientDto.getId())
				.nome(clientDto.getNome())
				.numeroEndereco(clientDto.getNumeroEndereco()).build();
		Endereco endereco = Endereco.builder()
				.bairro(clientDto.getBairro())
				.localidade(clientDto.getLocalidade())
				.uf(clientDto.getUf()).build();
		client.setEndereco(endereco);
		return client;
				
	}
	public ClientDto dtoTo(Client clientEntity) {
		return ClientDto.builder()
				.id(clientEntity.getId())
				.nome(clientEntity.getNome())
				.numeroEndereco(clientEntity.getNumeroEndereco())
				.build();
	}
	public Page<ClientDto> dtoListto(Page<Client> client){
		return client.map(new Function<Client, ClientDto>() {

			@Override
			public ClientDto apply(Client cliEnty) {
				
				return ClientDto.builder()
						.id(cliEnty.getId())
						.nome(cliEnty.getNome())
						.numeroEndereco(cliEnty.getNumeroEndereco())
						.build();
			}
		});
	}

}
